<p>This is booking list:</p>
{{bookingForm.value | json}}


<form 
class="example-form" 
[formGroup]="bookingForm" 
(ngSubmit)="onSubmit()">

    <div>
        <button class="btn btn-primary" type="button" (click)="addPassport()">
            Add Passport
        </button>

        <button class="btn btn-primary" type="button" (click)="removePassport()">
            Delete Passport
        </button>
    </div>

    <mat-form-field *ngIf="bookingForm.get('passport')" class="example-full-width">
        <mat-label>Passport</mat-label>
        <input 
        matInput
        type="text"
        formControlName="passport"
        placeholder="Passport" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Room Id</mat-label>
        <input 
        matInput
        type="text"
        formControlName="roomId"
        placeholder="Room Id" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Guest Email</mat-label>
        <input 
        matInput
        type="email"
        formControlName="guestEmail"
        placeholder="Guest Email" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Checking Date</mat-label>
        <input 
        matInput 
        [matDatepicker]="checkingDate"
        formControlName="checkingDate">
        <mat-datepicker-toggle matIconSuffix [for]="checkingDate">
        </mat-datepicker-toggle>
        <mat-datepicker #checkingDate></mat-datepicker>
    </mat-form-field>
    
    <mat-form-field class="example-full-width">
        <mat-label>Checkout Date</mat-label>
        <input 
        matInput 
        [matDatepicker]="checkoutDate"
        formControlName="checkoutDate">
        <mat-datepicker-toggle matIconSuffix [for]="checkoutDate">
        </mat-datepicker-toggle>
        <mat-datepicker #checkoutDate></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Booking Status</mat-label>
        <input 
        matInput
        type="text"
        formControlName="bookingStatus"
        placeholder="Booking Status" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Booking Amount</mat-label>
        <input 
        matInput
        type="text"
        formControlName="bookingAmount"
        placeholder="Booking Amount" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Booking Date</mat-label>
        <input 
        matInput 
        [matDatepicker]="bookingDate"
        formControlName="bookingDate">
        <mat-datepicker-toggle matIconSuffix [for]="bookingDate"></mat-datepicker-toggle>
        <mat-datepicker #bookingDate></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Mobile Number</mat-label>
        <input 
        matInput
        type="phone"
        formControlName="mobileNumber"
        placeholder="Mobile Number" 
        >
    </mat-form-field>

    <mat-form-field class="example-full-width">
        <mat-label>Guest Name</mat-label>
        <input 
        matInput
        type="text"
        formControlName="guestName"
        placeholder="Guest Name" 
        >
    </mat-form-field>

    <div formGroupName="address">
        <mat-expansion-panel hideToggle>
            <mat-expansion-panel-header>
                <mat-panel-title>
                Address
                </mat-panel-title>
            </mat-expansion-panel-header>

            <mat-form-field class="example-full-width">
                <mat-label>Address Lin1</mat-label>
                <input 
                matInput
                type="text"
                formControlName="addressLin1"
                placeholder="Address Lin1" 
                >
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Address Lin1</mat-label>
                <input 
                matInput
                type="text"
                formControlName="addressLin2"
                placeholder="Address Lin2" 
                >
            </mat-form-field>

            <mat-form-field class="example-full-width">
                <mat-label>City</mat-label>
                <input 
                matInput
                type="text"
                formControlName="city"
                placeholder="City" 
                >
            </mat-form-field>
        
            <mat-form-field class="example-full-width">
                <mat-label>State</mat-label>
                <input 
                matInput
                type="text"
                formControlName="state"
                placeholder="State" 
                >
            </mat-form-field>
        
            <mat-form-field class="example-full-width">
                <mat-label>Country</mat-label>
                <input 
                matInput
                type="text"
                formControlName="country"
                placeholder="Country" 
                >
            </mat-form-field>
        
            <mat-form-field class="example-full-width">
                <mat-label>Zip Code</mat-label>
                <input 
                matInput
                type="text"
                formControlName="zipCode"
                placeholder="Zip Code" 
                >
            </mat-form-field>
        </mat-expansion-panel>
    </div>

    <div>
        <button class="btn btn-primary" type="button" (click)="addGuest()">
            Add Guest
        </button>
    </div>
    
    <div formArrayName="guests">
        <mat-expansion-panel hideToggle>
            <mat-expansion-panel-header>
                <mat-panel-title>
                Guest
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div *ngFor="let guest of guests.controls; let i=index">
                <div>
                    <button class="btn btn-primary" type="button" (click)="removeGuest(i)">
                        Remove Guest
                    </button>
                </div>
                <div [formGroupName]="i">
                    <mat-form-field class="example-full-width">
                        <mat-label>Guest Name</mat-label>
                        <input 
                        matInput
                        type="text"
                        formControlName="guestName"
                        placeholder="Guest Name" 
                        >
                    </mat-form-field>
                    <mat-form-field class="example-full-width">
                        <mat-label>Age</mat-label>
                        <input 
                        matInput
                        type="number"
                        formControlName="age"
                        placeholder="Age" 
                        >
                    </mat-form-field>
                </div>
            </div>
        </mat-expansion-panel>
    </div>

    <div>
        <mat-checkbox class="example-margin" formControlName="tnc">
            Agree
        </mat-checkbox>
    </div>

    <button 
    class="btn btn-primary" 
    type="submit"
    [disabled]="bookingForm.invalid"
    >
        Submit
    </button>
</form>